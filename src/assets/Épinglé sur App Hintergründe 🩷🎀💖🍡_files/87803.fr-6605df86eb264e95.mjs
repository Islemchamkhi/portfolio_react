(self.modernJsonp=self.modernJsonp||[]).push([["87803"],{822794:function(e,s,t){t.d(s,{Z:()=>o});var a=t(994193);async function o(e,s){let{api:t}=(0,a.t)(),o=(0,a.u)();try{o.attempt("setMultipleBizEntityPropertiesFullUpdate",s);let a=new Date().getTime(),n=await t.put("/ads/v4/business_entities",e,!1);return o.success("setMultipleBizEntityPropertiesFullUpdate",s),o.latency("setMultipleBizEntityPropertiesFullUpdate",new Date().getTime()-a,s),n}catch(e){throw o.failure("setMultipleBizEntityPropertiesFullUpdate",s),e}}(0,a.u)()},691825:function(e,s,t){t.d(s,{Z:()=>g});var a=t(686659),o=t(667294),n=t(359496),l=t(124617),r=t(671340),i=t(78521),_=t(774838),d=t(144690),u=t(581722),c=t(935059);let E=()=>{let e=(0,c.Z)(),s=(0,u.v9)(({loggedOutUserInfo:e})=>e?.userInfo);return e.isAuth&&e.isLimitedLogin?{type:"LIMITED_LOGIN",info:{connectedToFacebook:!!((e.socialNetwork||{}).facebook||{}).connected,connectedToGoogle:!!((e.socialNetwork||{}).gplus||{}).connected,email:e.email,firstName:e.firstName,hasPassword:!!e.hasPassword,imageUrl:e.imageMediumUrl,gplusUrl:((e.socialNetwork||{}).gplus||{}).url}}:{type:e.isAuth?"AUTH":"UNAUTH",info:s&&s.email&&s.first_name?{connectedToFacebook:!!s.connected_to_facebook,connectedToGoogle:!!s.connected_to_google,email:s.email,firstName:s.first_name,hasPassword:!!s.has_password,imageUrl:s.medium_image_url??null}:null}};var p=t(36776),A=t(104999),m=t(24246),y=t(739405),S=t(229127),T=t(61046),f=t(785893);function I({children:e}){let s=function(){let e=(()=>{let[e,s]=(0,o.useState)(!1),t=(0,A.Z)();return(0,T.UE)(()=>s(!0)),(0,T.NN)(t),{visible:e,setVisible:s}})();return{loginForMore:e,limitedLoginModalSubheader:(()=>{let e=(0,m.Z)(),s=(0,y.HG)(),t=(0,A.Z)(),a=s?(0,S.hr)(e):(0,S.Wh)(e),[n,l]=(0,o.useState)(a);return(0,T.cZ)(e=>l(e??a)),(0,T.NN)(t),{text:n,setText:l}})(),limitedLoginModalNextLocation:(()=>{let[e,s]=(0,o.useState)("");return{route:e,setRoute:s}})(),viewer:E()}}();return(0,f.jsx)(p.o,{value:s,children:e})}function C({children:e}){let s=(0,_.B)(),t=E(),a=(()=>{let e=(0,n.Z)();return(0,o.useCallback)((s,t)=>e(s,{loggingOptions:t}),[e])})(),i=(0,o.useMemo)(()=>({getDeviceAppTypeString:()=>(0,r.Z)(s),register:a,viewer:t}),[s,t,a]);return(0,f.jsx)(l.I7,{value:i,children:e})}let g=({children:e})=>((0,o.useEffect)(()=>{(0,a.Z)("AppContextProvider","/app/common/lib/AppContextProvider.tsx")},[]),(0,f.jsx)(d.iE,{children:(0,f.jsx)(I,{children:(0,f.jsx)(C,{children:(0,f.jsx)(i.Z,{children:e})})})}))},548777:function(e,s,t){t.d(s,{m:()=>u,r:()=>c});var a=t(667294),o=t(213491),n=t(753806),l=t(501010),r=t(774838),i=t(661376),_=t(785893);let{Provider:d,get:u}=(0,o.Z)("PinRep");function c({children:e}){let{isAuthenticated:s}=(0,r.B)(),{checkExperiment:t}=(0,l.Z)(),{experience:o}=(0,n.Ow)(1000069),[u,c]=(0,a.useState)(!0),[E,p]=(0,a.useState)(!1),[A,m]=(0,a.useState)(!1),[y,S]=(0,a.useState)(null),[T,f]=(0,a.useState)(null),I=(0,n.oS)(1000069),{anyEnabled:C}=t("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),g=(0,i.Z)(s&&C?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,a.useEffect)(()=>{if(!s)return void c(!1);o&&(!o||o?.experience_id===500417&&o?.display_data.hide_footer)?I.viewExperience(1000069,500417):c(!1),p(!0)},[o]);let O=(0,a.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:A,hasSimplifiedPinGridExpLoaded:E,hidePinRepFooter:u,quickSaveBoardId:g,setHasMetSaveRequirementOnUseCaseFeed:m,setUseCaseFeedOriginalPinId:f,setUseCaseFeedRepinId:S,useCaseFeedOriginalPinId:T,useCaseFeedRepinId:y}),[A,E,u,g,m,f,S,T,y]);return(0,_.jsx)(d,{value:O,children:e})}},537391:function(e,s,t){t.d(s,{H:()=>S,g:()=>y});var a=t(667294),o=t(65711),n=t(69406),l=t(684645),r=t(505633),i=t(719301),_=t(457223),d=t(213491),u=t(47755),c=t(935059),E=t(721703),p=t(647587),A=t(785893);let{Provider:m,get:y}=(0,d.Z)("BusinessHierarchyContext"),S=({children:e})=>{let[s,t]=(0,a.useState)([]),[d,y]=(0,a.useState)([]),[S,T]=(0,a.useState)(!1),[f,I]=(0,a.useState)(!1),[C,g]=(0,a.useState)(null),[O,R]=(0,a.useState)(null),[h,P]=(0,a.useState)([]),[N,b]=(0,a.useState)({}),M=(0,p.Z)(),D=(0,a.useRef)(M),L=(0,c.Z)(),U=(0,o.Z)(),B=(0,a.useRef)({}),v=(0,a.useCallback)((e,s)=>{let t;s===n.Oz.BUSINESS_HIERARCHY?t=(0,_.Z)(i.Q6.DASHBOARD,"","",e):s===n.Oz.BUSINESS_ACCOUNT&&(t=(0,_.Z)(i.Q6.DASHBOARD,e));let a=(0,E.Z)({site:"www",path:t});(0,r.Z)(a)},[]),z=L.isAuth,{id:G="",username:w="",email:H="",fullName:Z="",imageSmallUrl:x="",imageMediumUrl:F="",isAuth:k}=L.isAuth?L:{id:"",username:"",email:"",fullName:"",imageSmallUrl:"",imageMediumUrl:""},$=(0,a.useCallback)(async e=>{if(!U)return[];if(I(!0),B.current[e])return I(!1),B.current[e];{let{data:s}=(await (0,u.Z)({url:"/ads/v4/business_access/business_hierarchies",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:e}})).resource_response,t=s&&s.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user&&"entity_type"in e.user&&(e.user.entity_type=n.Oz.USER_ACCOUNT),e))),e))||[],a=/^\d+$/.test(e),o=RegExp(e.toLowerCase(),"g"),r=[];O||R(r=await D.current());let i=(O??r).filter(s=>a?s.id.includes(e):s.user.full_name.toLowerCase().match(o)).map(l.IT),_=[...t.map(e=>e.id??""),...i.map(e=>e.id)];return z&&(a?(G||"").includes(e):(Z||"").toLowerCase().match(o))&&_.push(G),B.current[e]=_,I(!1),_}},[U,D,z,G,Z,O]),V=async(e,s)=>{if((!k||!U||O)&&!e)return;T(!0);let a=[];try{let{data:e}=(await (0,u.Z)({url:"/ads/v4/business_access/business_hierarchies"})).resource_response;a=e&&e.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user&&"entity_type"in e.user&&(e.user.entity_type=n.Oz.USER_ACCOUNT),e))),e))||[],t(a)}catch{t([])}try{let t=[];(!O||e)&&(t=await D.current(),y(t.filter(e=>s&&O&&!O.some(({id:s})=>s===e.id)).map(e=>e.user.full_name)),R(t));let o=e?t:O??t;P(o.map(l.IT)),b(o.reduce((e,s)=>(e[s.id]=s.business_roles||[],e),{})),g((0,l.WP)({id:G,username:w,email:H,fullName:Z,imageSmallUrl:x,imageMediumUrl:F})),B.current[""]=[...a.map(e=>e.id),...o.map(l.IT).map(e=>e.id),G],T(!1)}catch{T(!1)}},j=(0,a.useCallback)(V,[G,w,H,Z,x,F,k,U,O]),K=(0,a.useCallback)(e=>s.some(s=>s.id===e||"children"in s&&s.children.some(s=>s.id===e||s.user.id===e)),[s]),W=(0,a.useCallback)(e=>s.map(e=>"BUSINESS_HIERARCHY"===e.entity_type?e:null).find(s=>!!s&&s.children.some(s=>s.user.id===e)),[s]),Y=(0,a.useCallback)(()=>{y([])},[y]),q=(0,a.useMemo)(()=>({businessHierarchies:[...C?.id&&!K(C.id)?[C]:[],...s,...h.filter(e=>!K(e.id))],switchAccount:v,searchAccounts:$,loadingAccounts:S,isSearchingAccounts:f,fetchData:j,getParentHierarchyForIdIfExists:W,viewerRolesOfEachEmployer:N,tooltipEmployers:d,hideTooltip:Y}),[s,v,$,h,S,f,C,j,K,W,N,d,Y]);return(0,A.jsx)(m,{value:q,children:e})}},310008:function(e,s,t){t.d(s,{r:()=>S,Z:()=>y});var a=t(667294),o=t(731517),n=t(822794),l=t(47755),r=t(994193);let i=async(e,s)=>{let{statsLog:t}=(0,r.t)();try{let a=new Date,o=await (0,l.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),n=new Date;return t&&(t.success("getMultipleBizEntityProperties",s),t.latency("getMultipleBizEntityProperties",n.getTime()-a.getTime(),s)),o.resource_response.data}catch(e){throw t&&t.failure("getMultipleBizEntityProperties",s),e}},_=async(e,s,t="PUT")=>{let{statsLog:a}=(0,r.t)();try{let o=new Date,n=await (0,l.Z)({url:"/ads/v4/business_entities",data:e,method:t}),r=new Date;return a&&(a.success("setMultipleBizEntityPropertiesFullUpdate",s),a.latency("setMultipleBizEntityPropertiesFullUpdate",r.getTime()-o.getTime(),s)),n.resource_response.data}catch(e){throw a&&a.failure("setMultipleBizEntityPropertiesFullUpdate",s),e}};var d=t(213491),u=t(236269),c=t(935059),E=t(501010),p=t(767415),A=t(785893);let{Provider:m,get:y}=(0,d.Z)("CustomShortcutsContext"),S=({children:e})=>{let s=(0,c.Z)(),t=s.isAuth?s.id:void 0,l=s.isAuth&&s.isPartner,r=s.isAuth&&s.isLimitedLogin,d=(0,E.Z)(),[y,S]=(0,a.useState)({}),T=(0,a.useCallback)(async()=>{let{anyEnabled:e}=d.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),s=Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]).every(e=>!window.location.href?.includes(e));if(t&&l&&!r&&s)try{let s;s=e?i:o.Z;let a=(await s([{entity_id:t,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(a&&a.properties))return;let n=a.properties.NAVBAR_CONFIG;S(n?.customShortcuts||{})}catch(e){(0,p.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:t,error:(0,u.Z)(e,"message")}})}},[t,l,r,d]),f=(0,a.useCallback)(async e=>{let{anyEnabled:s}=d.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!t)return(0,p.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t,error:"Auth_Error"}}),{error:"Auth_Error"};try{let a;a=s?_:n.Z;return await a([{entity_id:t,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:e}}}]),T(),{error:null}}catch(e){return(0,p.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t,error:(0,u.Z)(e,"message")}}),{error:"Upsert_Error"}}},[t,d,T]);(0,a.useEffect)(()=>{T()},[T]);let I=(0,a.useMemo)(()=>({shortcuts:y,upsertShortcuts:f}),[y,f]);return(0,A.jsx)(m,{value:I,children:e})}},552841:function(e,s,t){t.d(s,{H7:()=>E,CB:()=>p});var a=t(667294),o=t(213491),n=t(686659),l=t(20256),r=t(47755),i=t(465784),_=t(24246),d=t(785893);let u=({onConfirm:e})=>{(0,a.useEffect)(()=>{(0,n.Z)("EmailVerificationReminderModal","/app/packages/EmailVerificationReminderModal/EmailVerificationReminderModal.tsx")},[]);let s=(0,_.Z)(),[t,o]=(0,a.useState)(!1),u=()=>{o(!0),(0,r.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,d.jsx)(i.ZP,{accessibilityModalLabel:s.bt("Vérifier votre e-mail", "Verify your email", "Accessible label for email verification being required", undefined, true),footer:(0,d.jsxs)(l.kC,{gap:{row:2,column:0},justifyContent:"end",children:[t?(0,d.jsx)(l.zx,{color:"gray",disabled:t,fullWidth:!0,onClick:u,size:"lg",text:s.bt("E-mail envoyé", "Email sent", "Button text for verification email being sent", undefined, true)}):(0,d.jsx)(l.zx,{color:"gray",disabled:t,fullWidth:!0,onClick:u,size:"lg",text:s.bt("Renvoyer l’e-mail", "Resend email", "Button text for resending email verification email", undefined, true)}),(0,d.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:e,size:"lg",text:s.bt("Compris !", "Got it", "Button text for acknowledging email verificaiton is required", undefined, true)})]}),heading:s.bt("Vérifier votre e-mail", "Verify your email", "Accessible label for email verification being required", undefined, true),onDismiss:e,role:"alertdialog",children:(0,d.jsx)(l.xu,{padding:8,children:(0,d.jsx)(l.xv,{align:"center",size:"300",children:s.bt("Sécurisez votre compte en vérifiant votre adresse e-mail. Vérifiez dans la boîte de réception associée à ce compte si vous avez reçu un e-mail de notre part pour continuer à utiliser Pinterest.", "Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.", "Inform users that they need to verify their email to keep their account secure and continue using Pinterest", undefined, true)})})})},{Provider:c,get:E}=(0,o.Z)("EmailVerificationReminderModal");function p({children:e}){let[s,t]=(0,a.useState)(!1),o=(0,a.useMemo)(()=>({showEmailVerificationReminderModal:()=>{t(!0)}}),[]);return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(c,{value:o,children:e}),s&&(0,d.jsx)(u,{onConfirm:()=>{t(!1)}})]})}},540015:function(e,s,t){t.d(s,{JD:()=>a,al:()=>o,f4:()=>i,iV:()=>r,tN:()=>l});let a={ALGERIA:"DZ",ARGENTINA:"AR",AUSTRALIA:"AU",AUSTRIA:"AT",BAHRAIN:"BH",BELGIUM:"BE",BRAZIL:"BR",BULGARIA:"BG",CANADA:"CA",CHILE:"CL",COLOMBIA:"CO",COSTA_RICA:"CR",CROATIA:"HR",CYPRUS:"CY",CZECHIA:"CZ",DENMARK:"DK",DOMINICAN_REPUBLIC:"DO",ECUADOR:"EC",EGYPT:"EG",ESTONIA:"EE",FINLAND:"FI",FRANCE:"FR",GERMANY:"DE",GREECE:"GR",GUATEMALA:"GT",HONG_KONG:"HK",HUNGARY:"HU",IRAQ:"IQ",IRELAND:"IE",INDIA:"IN",INDONESIA:"ID",ISRAEL:"IL",ITALY:"IT",JAPAN:"JP",KUWAIT:"KW",LATVIA:"LV",LITHUANIA:"LT",LUXEMBOURG:"LU",MALTA:"MT",MALAYSIA:"MY",MEXICO:"MX",MOROCCO:"MA",NETHERLANDS:"NL",NEW_ZEALAND:"NZ",NIGERIA:"NG",NORTH_MACEDONIA:"MK",NORWAY:"NO",OMAN:"OM",PAKISTAN:"PK",PERU:"PE",POLAND:"PL",PORTUGAL:"PT",QATAR:"QA",ROMANIA:"RO",SAUDI_ARABIA:"SA",SERBIA:"RS",SINGAPORE:"SG",SLOVAKIA:"SK",SLOVENIA:"SI",SOUTH_KOREA:"KR",SPAIN:"ES",SWEDEN:"SE",SWITZERLAND:"CH",TAIWAN:"TW",THAILAND:"TH",TURKEY:"TR",UNITED_ARAB_EMIRATES:"AE",UNITED_KINGDOM:"GB",UNITED_STATES:"US",PHILIPPINES:"PH",VIETNAM:"VN",SOUTH_AFRICA:"ZA",UNKNOWN:"UNKNOWN"},o=(e,s)=>({AE:s.bt("Émirats arabes unis", "United Arab Emirates", "[m10n]billing.BusinessInformation.country.AE", undefined, true),AR:s.bt("Argentine", "Argentina", "[m10n]billing.BusinessInformation.country.AR", undefined, true),AT:s.bt("Autriche", "Austria", "[m10n]billing.BusinessInformation.country.AT", undefined, true),AU:s.bt("Australie", "Australia", "[m10n]billing.BusinessInformation.country.AU", undefined, true),BE:s.bt("Belgique", "Belgium", "[m10n]billing.BusinessInformation.country.BE", undefined, true),BG:s.bt("Bulgarie", "Bulgaria", "[m10n]billing.BusinessInformation.country.BG", undefined, true),BH:s.bt("Bahreïn", "Bahrain", "[m10n]billing.BusinessInformation.country.BH", undefined, true),BR:s.bt("Brésil", "Brazil", "[m10n]billing.BusinessInformation.country.BR", undefined, true),CA:s.bt("Canada", "Canada", "[m10n]billing.BusinessInformation.country.CA", undefined, true),CH:s.bt("Suisse", "Switzerland", "[m10n]billing.BusinessInformation.country.CH", undefined, true),CL:s.bt("Chili", "Chile", "[m10n]billing.BusinessInformation.country.CL", undefined, true),CO:s.bt("Colombie", "Colombia", "[m10n]billing.BusinessInformation.country.CO", undefined, true),CR:s.bt("Costa Rica", "Costa Rica", "[m10n]billing.BusinessInformation.country.CR", undefined, true),CY:s.bt("Chypre", "Cyprus", "[m10n]billing.BusinessInformation.country.CY", undefined, true),CZ:s.bt("République tchèque", "Czechia", "[m10n]billing.BusinessInformation.country.CZ", undefined, true),DE:s.bt("Allemagne", "Germany", "[m10n]billing.BusinessInformation.country.DE", undefined, true),DK:s.bt("Danemark", "Denmark", "[m10n]billing.BusinessInformation.country.DK", undefined, true),DO:s.bt("République dominicaine", "Dominican Republic", "[m10n]billing.BusinessInformation.country.DO", undefined, true),DZ:s.bt("Algérie", "Algeria", "[m10n]billing.BusinessInformation.country.DZ", undefined, true),EC:s.bt("Équateur", "Ecuador", "[m10n]billing.BusinessInformation.country.EC", undefined, true),EE:s.bt("Estonie", "Estonia", "[m10n]billing.BusinessInformation.country.EE", undefined, true),EG:s.bt("Égypte", "Egypt", "[m10n]billing.BusinessInformation.country.EG", undefined, true),ES:s.bt("Espagne", "Spain", "[m10n]billing.BusinessInformation.country.ES", undefined, true),FI:s.bt("Finlande", "Finland", "[m10n]billing.BusinessInformation.country.FI", undefined, true),FR:s.bt("France", "France", "[m10n]billing.BusinessInformation.country.FR", undefined, true),GB:s.bt("Royaume-Uni", "United Kingdom", "[m10n]billing.BusinessInformation.country.GB", undefined, true),GR:s.bt("Grèce", "Greece", "[m10n]billing.BusinessInformation.country.GR", undefined, true),GT:s.bt("Guatemala", "Guatemala", "[m10n]billing.BusinessInformation.country.GT", undefined, true),HK:s.bt("Hong Kong", "Hong Kong", "[m10n]billing.BusinessInformation.country.HK", undefined, true),HR:s.bt("Croatie", "Croatia", "[m10n]billing.BusinessInformation.country.HR", undefined, true),HU:s.bt("Hongrie", "Hungary", "[m10n]billing.BusinessInformation.country.HU", undefined, true),IE:s.bt("Irlande", "Ireland", "[m10n]billing.BusinessInformation.country.IE", undefined, true),IN:s.bt("Inde", "India", "[m10n]billing.BusinessInformation.country.IN", undefined, true),ID:s.bt("Indonésie", "Indonesia", "[m10n]billing.BusinessInformation.country.ID", undefined, true),IL:s.bt("Israël", "Israel", "[m10n]billing.BusinessInformation.country.IL", undefined, true),IQ:s.bt("Irak", "Iraq", "[m10n]billing.BusinessInformation.country.IQ", undefined, true),IT:s.bt("Italie", "Italy", "[m10n]billing.BusinessInformation.country.IT", undefined, true),JP:s.bt("Japon", "Japan", "[m10n]billing.BusinessInformation.country.JP", undefined, true),KR:s.bt("Corée du Sud", "South Korea", "[m10n]billing.BusinessInformation.country.KR", undefined, true),KW:s.bt("Koweït", "Kuwait", "[m10n]billing.BusinessInformation.country.KW", undefined, true),LT:s.bt("Lituanie", "Lithuania", "[m10n]billing.BusinessInformation.country.LT", undefined, true),LU:s.bt("Luxembourg", "Luxembourg", "[m10n]billing.BusinessInformation.country.LU", undefined, true),LV:s.bt("Lettonie", "Latvia", "[m10n]billing.BusinessInformation.country.LV", undefined, true),MA:s.bt("Maroc", "Morocco", "[m10n]billing.BusinessInformation.country.MA", undefined, true),MK:s.bt("Macédoine du Nord", "North Macedonia", "[m10n]billing.BusinessInformation.country.MK", undefined, true),MT:s.bt("Malte", "Malta", "[m10n]billing.BusinessInformation.country.MT", undefined, true),MX:s.bt("Mexique", "Mexico", "[m10n]billing.BusinessInformation.country.MX", undefined, true),MY:s.bt("Malaisie", "Malaysia", "[m10n]billing.BusinessInformation.country.MY", undefined, true),NG:s.bt("Nigeria", "Nigeria", "[m10n]billing.BusinessInformation.country.NG", undefined, true),NL:s.bt("Pays-Bas", "Netherlands", "[m10n]billing.BusinessInformation.country.NL", undefined, true),NO:s.bt("Norvège", "Norway", "[m10n]billing.BusinessInformation.country.NO", undefined, true),NZ:s.bt("Nouvelle-Zélande", "New Zealand", "[m10n]billing.BusinessInformation.country.NZ", undefined, true),OM:s.bt("OMAN", "OMAN", "[m10n]billing.BusinessInformation.country.OM", undefined, true),PE:s.bt("Pérou", "Peru", "[m10n]billing.BusinessInformation.country.PE", undefined, true),PH:s.bt("Philippines", "Philippines", "[m10n]billing.BusinessInformation.country.PH", undefined, true),PK:s.bt("Pakistan", "Pakistan", "[m10n]billing.BusinessInformation.country.PK", undefined, true),PL:s.bt("Pologne", "Poland", "[m10n]billing.BusinessInformation.country.PL", undefined, true),PT:s.bt("Portugal", "Portugal", "[m10n]billing.BusinessInformation.country.PT", undefined, true),QA:s.bt("Qatar", "Qatar", "[m10n]billing.BusinessInformation.country.QA", undefined, true),RO:s.bt("Roumanie", "Romania", "[m10n]billing.BusinessInformation.country.RO", undefined, true),RS:s.bt("Serbie", "Serbia", "[m10n]billing.BusinessInformation.country.RS", undefined, true),SA:s.bt("Arabie Saoudite", "Saudi Arabia", "[m10n]billing.BusinessInformation.country.SA", undefined, true),SE:s.bt("Suède", "Sweden", "[m10n]billing.BusinessInformation.country.SE", undefined, true),SG:s.bt("Singapour", "Singapore", "[m10n]billing.BusinessInformation.country.SG", undefined, true),SI:s.bt("Slovénie", "Slovenia", "[m10n]billing.BusinessInformation.country.SI", undefined, true),SK:s.bt("Slovaquie", "Slovakia", "[m10n]billing.BusinessInformation.country.SK", undefined, true),TH:s.bt("Thaïlande", "Thailand", "[m10n]billing.BusinessInformation.country.TH", undefined, true),TR:s.bt("Turquie", "Turkey", "[m10n]billing.BusinessInformation.country.TR", undefined, true),TW:s.bt("Taiwan", "Taiwan", "[m10n]billing.BusinessInformation.country.TW", undefined, true),US:s.bt("États-Unis", "United States", "[m10n]billing.BusinessInformation.country.US", undefined, true),VN:s.bt("Vietnam", "Vietnam", "[m10n]billing.BusinessInformation.country.VN", undefined, true),ZA:s.bt("Afrique du Sud", "South Africa", "[m10n]billing.BusinessInformation.country.ZA", undefined, true),UNKNOWN:s.bt("Inconnu", "Unknown", "[m10n]billing.BusinessInformation.country.UNKNOWN", undefined, true)})[e]||e,n={IL:9,HK:18,KR:20,SG:21,TW:39,MY:40,VN:41,TH:42,PH:43,ID:44,DO:46,AE:47,TR:48,IN:49,GT:50,SA:51,NG:52,QA:53,PE:54,EG:55,IQ:56,BH:57,CR:58,DZ:59,EC:60,KW:61,MA:62,OM:63,PK:64,ZA:66,US:1,EE:67,LT:68,SI:69,LV:70,BG:71,RS:72,HR:73,MK:74},l={...n,AR:36,AT:11,AU:5,BE:15,BR:34,CA:3,CH:17,CL:37,CO:38,CY:25,CZ:31,DE:10,DK:23,ES:13,FI:24,FR:7,GB:2,GR:32,HK:18,HU:30,IE:4,IN:49,ID:44,IL:9,IT:12,JP:19,KR:20,LU:26,MT:27,MX:35,MY:40,NL:14,NO:22,NZ:6,PH:43,PL:28,PT:16,RO:29,SE:8,SG:21,SK:33,TH:42,TW:39,US:1,VN:41,UNKNOWN:0},r=Object.entries(l).reduce((e,s)=>{let[t,a]=s;return e[a]=t,e},{}),i=Object.values(n)},457223:function(e,s,t){t.d(s,{Z:()=>n});let a="/business/business-manager/",o="/business/business-hierarchy/",n=(e,s,t,n)=>{switch(e){case"DASHBOARD":return n?`${o}${String(n)}/dashboard/`:`${a}${String(s)}/dashboard/`;case"MEDIA_NETWORK_DASHBOARD":return`${a}${String(s)}/media-network-hub/dashboard/`;case"PEOPLE":return`${a}${String(s)}/employees/`;case"PARTNERS":return`${a}${String(s)}/partners/`;case"AD_ACCOUNTS":return`${a}${String(s)}/ad-accounts/`;case"HISTORY":return`${a}${String(s)}/history/`;case"PEOPLE_DETAIL":return`${a}${String(s)}/employees/${String(t)}/details/`;case"PARTNERS_DETAIL":return`${a}${String(s)}/partners/${String(t)}/details/`;case"SHARED_PARTNERS_DETAIL":return`${a}${String(s)}/shared/${String(t)}/details/`;case"AD_ACCOUNTS_DETAIL":return`${a}${String(s)}/ad-accounts/${String(t)}/details/`;case"PENDING_AD_ACCOUNTS_DETAIL":return`${a}${String(s)}/ad-accounts/pending/${String(t)}/details/`;case"PEOPLE_PENDING_TAB":return`${a}${String(s)}/employees/pending/`;case"PARTNERS_PENDING_TAB":return`${a}${String(s)}/partners/pending/`;case"AD_ACCOUNTS_PENDING_TAB":return`${a}${String(s)}/ad-accounts/pending`;case"AD_ACCOUNTS_CEE_MIGRATION":return`${a}${String(s)}/ad-accounts/cee-migration`;case"PROFILES":return`${a}${String(s)}/profiles/`;case"PROFILES_DETAIL":return`${a}${String(s)}/profiles/${String(t)}/details/`;case"BUSINESS_SECURITY":return`${a}${String(s)}/security/`;case"ASSET_GROUPS":return t?`${a}${String(s)}/asset-groups/?asset_group_id=${String(t)}`:`${a}${String(s)}/asset-groups/`;case"INVOICE_MANAGEMENT":return`${a}${String(s)}/invoice-management/`;case"BUSINESS_HIERARCHY":return`${o}${String(n)}/hierarchy/`;case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return`${o}${String(n)}/business_security/`;case"MANAGERS":return`${o}${String(n)}/managers/`;case"AUDIENCES":return`${a}${String(s)}/audiences/`;case"SHARED_TAGS":return`${a}${String(s)}/shared-tags/`;case"CATALOGS":return`${a}${String(s)}/catalogs/`;case"CATALOGS_DETAIL":return`${a}${String(s)}/catalogs/${String(t)}/details/`;case"BRAND_SAFETY":return`${a}${String(s)}/brand-safety/`;case"BUSINESS_SETTINGS":return`${a}${String(s)}/settings/`;case"SYSTEM_USERS":return`${a}${String(s)}/system-users/`;case"APPS":return`${a}${String(s)}/apps/`;case"CONVERSION_DATA":return`${a}${String(s)}/conversion-data/`;default:return a}}},124617:function(e,s,t){t.d(s,{Cw:()=>l,I7:()=>i,Py:()=>_,c4:()=>r});var a=t(667294),o=t(213491);let n=(0,a.createContext)(null),l=()=>(0,a.useContext)(n),r=n,{Provider:i,get:_}=(0,o.Z)("DesktopCoreLogin")},359496:function(e,s,t){t.d(s,{Z:()=>D});var a=t(667294),o=t(966502),n=t(27399),l=t(4533),r=t(11442),i=t(104999),_=t(470967),d=t(127078),u=t(991166),c=t(384696),E=t(990898),p=t(228842),A=t(424868),m=t(919492),y=t(501010),S=t(552764),T=t(165927),f=t(774838),I=t(959708),C=t(34550),g=t(935833),O=t(11908),R=t(575820),h=t(629724),P=t(144690),N=t(278277),b=t(767415);let M=0;function D(){let e=(0,S.Z)(),s=(0,i.Z)(),t=(0,f.B)(),D=(0,O.Z)(),{isRequirementEnabled:L}=(0,P.vI)(),U=(0,y.Z)(),B=(0,E.Z)(),v=(0,d.EJ)();return(0,a.useCallback)((a,{loggingOptions:{signupContext:i,signupAttemptContextEvent:d}})=>{let E=e=>{s({...d,event_type:e,aux_data:{...d.aux_data,upsell_reason:d.aux_data?.upsell_reason||(0,C.M0)().getItem(l.bg)||null,upsell_view_count:(0,C.M0)().getItem(l.w0)||0}}),7487===e&&(0,C.M0)().setItem(l.w0,0)},y=async({isRetrying:e})=>{let d={...a},S=JSON.stringify(v)||"",f=(0,N.O)(),O=window?.location?.search??null,P=(0,R.mB)(O).utm_campaign;S&&(d={...d,visited_pages:S}),f&&(d={...d,referrer:f}),P&&(d={...d,utm_campaign:P});let z=(0,C.M0)().getItem(l.e9)||[];if(S)d={...d,visited_pages:S};else if(z){let e=[];for(let s of z)s.is_shared_pin&&e.push({ts:s.ts,path:s.path,first_pin_image_signature:s.image_signature,is_shared:!0});e&&(d={...d,visited_pages:JSON.stringify(e.concat(JSON.parse(S||"[]")))})}let G=(0,p.Z)({isComplianceFeatureRequired:L,viewType:10});G.length>0&&(d={...d,privacy_disclaimer_acknowledge:G}),d={...d,user_behavior_data:JSON.stringify({})};let w=(0,m.yV)(d);return(e||(E(7537),D({action:"signup",event:"attempt",trigger:i?.trigger,type:w})),(0,b.nP)("webapp.debug_signup_type.core_register",{sampleRate:1,tags:{CHECK_TYPE:(0,m.Eh)(d,"CHECK_TYPE")??"none",CHECK_EXISTS:(0,m.Eh)(d,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,m.Eh)(d,"DEPRECATED_CHECK_TRUTHY")}}),"email"===w&&await (0,c.Lq)({fingerprintData:d.fingerprintData,source:u.Ef.SIGNUP,logContextEvent:s}))?Promise.reject({isArkoseChallengeRequired:!0}):(d=(0,c.NW)(d),n.Z.create("UserRegisterResource",d).callCreate().then(()=>(()=>{let{country:e,countryFromHostName:a,countryFromIp:n,regionFromIp:d}=t;U.checkExperiment("web_install_sw_on_unauth_landing").anyEnabled||(0,I.Z)("signup"),_.zN(o.Mq.name),_.zN(o.x2.name),(0,r.Z)(),_.t8(o.Xh,"1"),B({isRegister:!0}),(0,C.M0)().removeItem(l._b);let u=i?.container||"container_unknown";(0,g.My)(`signup.container.${u}`);let c=i?.signupSource||"signupSource_unknown";(0,g.My)(`signup.source.${c}`),s({event_type:"home_page"===u?1750:1754}),(0,g.My)(`signup_referrer_module.${String((0,h.Z)().referrer||"unknown")}`),(0,T.ko)({country:e,countryFromHostName:a,countryFromIp:n,regionFromIp:d,deviceType:"Desktop",eventCategory:"NewUsers"}),E(7487),D({action:"signup",event:"success",referrer:(()=>{let e=document.referrer;return e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"})(),trigger:i?.trigger,type:w})})(),e=>(e=>{if(e.api_error_code===A.tz&&((0,g.My)("multi_step_set_age_restrict_cookie"),_.t8(o.It,"1",(0,_.kZ)(o.It))),(!e.api_error_code||[A.dO,A.cZ].includes(e.api_error_code))&&M<3)return(0,g.My)(`unauth_web.signup_retry_error.${String(e.api_error_code)}.${String(i?.container)}`),M+=1,y({isRetrying:!0});throw E(7488),D({action:"signup",event:"fail",trigger:i?.trigger,type:w}),e})(e)))};return e(),y({isRetrying:!1})},[e,L,s,t,D,U,B,v])}},671340:function(e,s,t){t.d(s,{Z:()=>a});function a(e){let s=e.userAgent.isMobile?"mobile":"desktop";return`${s}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}},228842:function(e,s,t){t.d(s,{Z:()=>a});let a=({isComplianceFeatureRequired:e,viewType:s})=>{let t=[];return e({requirementEnum:0,viewType:s})&&t.push("fdbr"),t.join(",")}},138832:function(e,s,t){t.d(s,{default:()=>y});var a=t(966502),o=t(27399),n=t(4533),l=t(505633),r=t(470967),i=t(609252),_=t(281183),d=t(959708),u=t(748025),c=t(34550),E=t(418282),p=t(247387),A=t(935833),m=t(99672);async function y(e={logoutOnAbort:!1},s,t){let{redirectUrl:S,localStorageItems:T,logoutOnAbort:f,reason:I="user_initiated",source:C}=e,g=(0,c.M0)();if("authentication_failed"===I&&g.getItem(n.co))return;(0,A.yl)(!0),i.Z.pause(),s(),g.setItem(n.co,!0);let O=t?"web_desktop":"web_mobile";(0,A.tj)("logout.attempt",{tags:{app:O,reason:I,source:C}});try{await o.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete()}catch(e){if(g.setItem(n.co,!1),f&&e?.type==="abort")(0,A.tj)("logout.logout_ignored",{tags:{app:O,reason:I,source:C}});else throw(0,A.tj)("logout.error",{tags:{app:O,reason:I,source:C}}),e}(0,A.tj)("logout",{tags:{app:O,reason:I,source:C}}),E.ZP.clear();let R=[[n.V6,null]].map(([e,s])=>[e,g.getItem(e)]);g.clear(),R.forEach(([e,s])=>g.setItem(e,s)),r.t8(a.e7,"True",(0,r.kZ)(a.e7)),r.t8(a.yu,new Date().toLocaleDateString(),(0,r.kZ)(a.yu)),t||(0,m.E)(!1),T&&((0,_.r8)(T.multipleAccountMap),(0,_.M3)(T.multipleAccountGroupId)),t?await (0,d.Z)("logoutWithOptions"):await (0,u.Z)(),(0,l.Z)(S||p.ZEf)}},922808:function(e,s,t){t.d(s,{Z:()=>u});var a=t(686659),o=t(667294),n=t(680405),l=t(230201),r=t(138832),i=t(478559),_=t(774838),d=t(785893);function u({children:e}){(0,o.useEffect)(()=>{(0,a.Z)("AuthenticationProvider","/app/packages/pinterest-authentication/AuthenticationProvider.tsx")},[]);let s=(0,n.N)(),t=(0,_.B)(),{flushContextEvents:u}=(0,l.u)(),c=(0,o.useCallback)(e=>(0,r.default)(e,u,!0),[u]),E=(0,o.useMemo)(()=>({loginContext:{appType:s.app_type_detailed,facebookToken:t.facebookToken,origin:t.origin,referrer:t.referrerFromCookie,unauthId:t.unauthId},logout:c}),[s.app_type_detailed,t.facebookToken,t.referrerFromCookie,t.origin,t.unauthId,c]);return(0,d.jsx)(i.o_,{value:E,children:e})}},281183:function(e,s,t){t.d(s,{M3:()=>d,PE:()=>r,Q:()=>u,lv:()=>i,r8:()=>l,rl:()=>n,yW:()=>_});var a=t(4533),o=t(34550);let n=()=>(0,o.M0)().getItem(a.uo)??Object.freeze({}),l=e=>(0,o.M0)().setItem(a.uo,e),r=()=>null!==(0,o.M0)().getItem(a.uo),i=()=>Object.keys(n()).length,_=()=>(0,o.M0)().getItem(a.R1),d=e=>(0,o.M0)().setItem(a.R1,e),u=()=>({multipleAccountMap:n(),multipleAccountGroupId:_()})},753977:function(e,s,t){t.d(s,{Z:()=>d});var a=t(686659),o=t(667294),n=t(20256),l=t(564377),r=t(577356),i=t(739405),_=t(785893);function d({children:e}){(0,o.useEffect)(()=>{(0,a.Z)("ToastManager","/app/packages/ui/ToastManager.tsx")},[]);let[s,t]=(0,o.useState)([]),d=(0,o.useRef)(0),u=(0,i.ZP)(),c=()=>{let e=d.current;return d.current+=1,`toast${e}`},E=(0,o.useMemo)(()=>({showOneToast:e=>{t([{name:c(),component:e}])},showToast:e=>{t(s=>[...s,{name:c(),component:e}])}}),[t]);return(0,_.jsxs)(r.Zo,{value:E,children:[e,(0,_.jsx)(l.Z,{children:(0,_.jsx)(n.mh,{children:(0,_.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",..."desktop"===u?{bottom:"14px"}:{top:"phone"===u?56:80}}},direction:"column",display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:new n.Ry(1500),children:s.map(({name:e,component:s})=>{if(s)return(0,_.jsx)(s,{hideToast:()=>{t(s=>{let t=[...s],a=t.findIndex(s=>s.name===e);return -1!==a&&t.splice(a,1),t})}},e)})})})})]})}},647587:function(e,s,t){t.d(s,{Z:()=>o});var a=t(681698);function o(){return async()=>{let e=await (0,a.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}),s=e.resource_response?e.resource_response.data:{data:[]};return await Promise.all(s&&s.data||[])}}},160744:function(e,s,t){t.d(s,{$7:()=>y,Ay:()=>r,B1:()=>T,CD:()=>_,Dk:()=>c,Fc:()=>U,Kp:()=>B,NG:()=>O,QM:()=>b,T0:()=>u,TE:()=>m,WF:()=>C,Wm:()=>f,Xm:()=>R,_N:()=>N,d7:()=>l,dt:()=>D,e_:()=>P,i_:()=>g,kY:()=>A,nV:()=>o,pC:()=>i,ph:()=>p,qg:()=>h,sg:()=>E,tZ:()=>n,tw:()=>L,uC:()=>d,uc:()=>I,xl:()=>S,yG:()=>M});var a=t(540015);let o="https://business.pinterest.com/en/pinterest-advertising-services-agreement",n="https://business.pinterest.com/fr/pinterest-advertising-services-agreement",l="https://business.pinterest.com/pt-br/pinterest-advertising-services-agreement",r="https://business.pinterest.com/es/pinterest-advertising-services-agreement/mexico/",i="https://business.pinterest.com/es/pinterest-advertising-services-agreement/argentina/",_="https://business.pinterest.com/es/pinterest-advertising-services-agreement/chile/",d="https://business.pinterest.com/es/pinterest-advertising-services-agreement/colombia/",u="https://business.pinterest.com/ja/pinterest-advertising-services-agreement/",c="https://business.pinterest.com/en-gb/pinterest-advertising-services-agreement",E="https://business.pinterest.com/pinterest-advertising-services-agreement/",p=[1,3],A=[7],m=[34],y=[35],S=[19],T=[36],f=[37],I=[38],C=8,g=9,O=11,R=15,h=16,P=17,N=18,b=19,M=20,D=22,L=23;function U(e,s){let t=g;return p.includes(e)&&!s?t=C:A.includes(e)?t=O:m.includes(e)?t=R:y.includes(e)?t=h:S.includes(e)?t=P:T.includes(e)?t=N:I.includes(e)?t=b:f.includes(e)?t=M:a.f4.includes(e)&&(t=D),t}function B(e){let s=c;return p.includes(e)?s=o:A.includes(e)?s=n:m.includes(e)?s=l:y.includes(e)?s=r:S.includes(e)?s=u:T.includes(e)?s=i:f.includes(e)?s=_:I.includes(e)&&(s=d),s}},662529:function(e,s,t){t.d(s,{a:()=>c,B:()=>d});var a=t(667294),o=t(213491),n=t(681698);let l={boardMap:{}};function r(e,s){if(e=e||l,"BLOCKING_ACTIONS_UPDATED"===s.type){let{payload:{boardId:t,blockingActions:a}}=s,o=null,n=null,l={};return a.forEach(({section_id:e,progress:s,id:t,created_timestamp:a})=>{let r={id:t,createdAt:a,progress:s};e?"-1"===e?o=r:l[e]=r:n=r}),{...e,boardMap:{...e.boardMap,[t]:{wholeBoard:o,unorganized:n,sectionMap:l}}}}return e}var i=t(785893);let{Provider:_,getMaybe:d}=(0,o.Z)("BlockingAction");async function u(e){let s=await (0,n.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,t)=>{let a=s&&s.resource_response&&s.resource_response.data&&s.resource_response.data.blocking_actions;if(!a)return void t(Error("No blocking actions found in the response"));e(a)})}function c({children:e}){let[s,t]=(0,a.useReducer)(r,l),o=(0,a.useCallback)(e=>u(e).then(s=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:s}}),s)),[]),n=(0,a.useMemo)(()=>({blockingActions:s,fetchBlockingActions:o}),[s,o]);return(0,i.jsx)(_,{value:n,children:e})}},89446:function(e,s,t){t.d(s,{dd:()=>N,Yi:()=>R,Pf:()=>O,Sx:()=>I,sO:()=>m,MC:()=>T,HU:()=>A,Dw:()=>g,vg:()=>P,nC:()=>f,KJ:()=>y,jn:()=>h,Dl:()=>b,nU:()=>S,Un:()=>C});var a=t(667294),o=t(312048),n=t(213491),l=t(681698),r=t(173874),i=t(501010);let _={payload:{},type:null},d={businessId:"",business:null,managerId:"",manager:null,businessHierarchyId:"",businessHierarchy:null,detailId:"",profile:null,adAccount:null,selectedAudience:null,isActingUserReseller:null,partnerId:"",employeeId:"",intents:_,modal:{modalType:null},lastFetchedBusinessId:"",businessExperiments:{}};function u(e,s){switch(e=e||d,s.type){case"SET_ROUTER_PARAMS":return{...e,businessId:s.payload.businessId??"",detailId:s.payload.detailId??""};case"SET_SELECTED_BUSINESS":return{...e,businessId:s.payload.business?.user.id??"",business:s.payload.business};case"SET_CEE_MIGRATION_INFO":return{...e,ceeMigrationInfo:s.payload.ceeMigrationInfo};case"SET_SELECTED_BUSINESS_HIERARCHY":return{...e,businessHierarchyId:s.payload.businessHierarchy?.id||"",businessHierarchy:s.payload.businessHierarchy};case"SET_SELECTED_ORGANIZATION_MANAGER":return{...e,managerId:s.payload.manager?.user.id??"",manager:s.payload.manager};case"SET_SELECTED_DETAIL":return{...e,detailId:s.payload.detailId??""};case"SET_SELECTED_PROFILE":return{...e,profile:s.payload.profile};case"SET_SELECTED_AD_ACCOUNT":return{...e,adAccount:s.payload.adAccount};case"SET_SELECTED_AUDIENCE":return{...e,selectedAudience:s.payload.audience};case"SET_SELECTED_PARTNER_ID":return{...e,partnerId:s.payload.partnerId};case"SET_SELECTED_EMPLOYEE_ID":return{...e,employeeId:s.payload.employeeId};case"SET_IS_ACTING_USER_RESELLER":return{...e,isActingUserReseller:s.payload.isActingUserReseller};case"SET_LAST_FETCHED_BUSINESS_ID":return{...e,lastFetchedBusinessId:s.payload.businessId};case"SET_BUSINESS_EXPERIMENTS":return{...e,businessExperiments:s.payload.experiments};case"CLEAR_INTENT":case"OPEN_SHEET":return{...e,intents:function(e,s){switch(s.type){case"CLEAR_INTENT":return _;case"OPEN_SHEET":let{type:t,payload:a}=s;return{type:t,payload:a};default:return e}}(e.intents,s)};case"SET_MODAL":case"CLEAR_MODAL":return{...e,modal:function(e,s){switch(s.type){case"SET_MODAL":return s.payload;case"CLEAR_MODAL":return{modalType:null};default:return e}}(e.modal,s)};default:return e}}var c=t(520803),E=t(785893);let{Provider:p,get:A}=(0,n.Z)("BusinessAccess");function m({children:e}){let[s,t]=(0,a.useReducer)(u,d),o=(0,a.useMemo)(()=>({setRouterParams:({detailId:e,businessId:s})=>t({type:"SET_ROUTER_PARAMS",payload:{detailId:e,businessId:s}}),setSelectedBusiness:e=>t({type:"SET_SELECTED_BUSINESS",payload:{business:e}}),setCeeMigrationInfo:e=>t({type:"SET_CEE_MIGRATION_INFO",payload:{ceeMigrationInfo:e}}),setSelectedOrganizationManager:e=>t({type:"SET_SELECTED_ORGANIZATION_MANAGER",payload:{manager:e}}),setSelectedBusinessHierarchy:e=>t({type:"SET_SELECTED_BUSINESS_HIERARCHY",payload:{businessHierarchy:e}}),setSelectedDetail:({detailId:e})=>t({type:"SET_SELECTED_DETAIL",payload:{detailId:e}}),setSelectedProfile:e=>t({type:"SET_SELECTED_PROFILE",payload:{profile:e}}),setSelectedAdAccount:e=>t({type:"SET_SELECTED_AD_ACCOUNT",payload:{adAccount:e}}),setSelectedAudience:e=>t({type:"SET_SELECTED_AUDIENCE",payload:{audience:e}}),setSelectedPartnerId:e=>t({type:"SET_SELECTED_PARTNER_ID",payload:{partnerId:e??""}}),setSelectedEmployeeId:e=>t({type:"SET_SELECTED_EMPLOYEE_ID",payload:{employeeId:e??""}}),setIsActingUserReseller:e=>t({type:"SET_IS_ACTING_USER_RESELLER",payload:{isActingUserReseller:e??!1}}),setLastFetchedBusinessId:e=>t({type:"SET_LAST_FETCHED_BUSINESS_ID",payload:{businessId:e}}),setBusinessExperiments:e=>t({type:"SET_BUSINESS_EXPERIMENTS",payload:{experiments:e}}),clearIntent:()=>t({type:"CLEAR_INTENT"}),openSheet:e=>t({type:"OPEN_SHEET",payload:e}),setAddPeopleModal:()=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE"}}),setAddPeopleInviteConfirmationModal:({inviteIds:e,role:s,isPendingTabActive:a})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_CONFIRMATION",modalProps:{inviteIds:e,role:s,isPendingTabActive:a}}}),setAddPeopleInviteWithAssetsConfirmationModal:({inviteIds:e,invitedPeopleIdentifiers:s})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_WITH_ASSETS_CONFIRMATION",modalProps:{inviteIds:e,invitedPeopleIdentifiers:s}}}),setAddPartnerInviteConfirmationModal:({selectedId:e,role:s,inviteId:a,isReseller:o})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_INVITE_CONFIRMATION",modalProps:{selectedId:e,role:s,inviteId:a,isReseller:o}}}),setRemovePersonModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_PERSON",modalProps:e}}),setRemoveProfilePermissionsModal:({userData:e,selectionType:s,profileId:a,profileName:o,dataToRefresh:n,refreshData:l})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_PROFILE_PERMISSIONS",modalProps:{userData:e,selectionType:s,profileId:a,profileName:o,dataToRefresh:n,refreshData:l}}}),setEditPersonRoleModal:e=>t({type:"SET_MODAL",payload:{modalType:"EDIT_PERSON_ROLE",modalProps:e}}),setInviteRequestPartnerModal:e=>t({type:"SET_MODAL",payload:{modalType:"INVITE_REQUEST_PARTNER",modalProps:{partnershipType:e?.partnershipType,pageForLogger:e?.pageForLogger}}}),setRequestPartnerConfirmationModal:({partnerId:e,role:s,requestId:a})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION",modalProps:{partnerId:e,role:s,requestId:a}}}),setRequestPartnerConfirmationSuccessModal:({requestId:e})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION_SUCCESS",modalProps:{requestId:e}}}),setRemoveChildBusinessModal:()=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_CHILD_BUSINESS"}}),setRemoveOrganizationManagerModal:()=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_ORGANIZATION_MANAGER"}}),setRemovePartnerModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_PARTNER",modalProps:{...e}}}),setRemoveSelfEmployeeModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_SELF_EMPLOYEE",modalProps:{...e}}}),setRemoveSharedPartnerModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_PARTNER",modalProps:{...e}}}),setRemoveSharedAdAccountModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_AD_ACCOUNT",modalProps:{...e}}}),setCreateAdAccountModal:()=>t({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT"}}),setCreateAdAccountConfirmationModal:({ownerInfo:e,accountInfo:s,refreshData:a})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT_CONFIRMATION",modalProps:{accountInfo:s,ownerInfo:e,refreshData:a}}}),setAssignAdAccountsModal:({selectedIds:e,selectionType:s,dataToRefresh:a,assignmentType:o,inviteIds:n,peopleIdentifiers:l,roleType:r,showProfiles:i,resellerUserId:_})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNTS",modalProps:{selectedIds:e,selectionType:s,dataToRefresh:a,assignmentType:o,peopleIdentifiers:l,inviteIds:n,roleType:r,showProfiles:i,resellerUserId:_}}}),setRequestAdAccountsModal:({requestId:e,partnerId:s})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS",modalProps:{requestId:e,partnerId:s}}}),setRequestAdAccountsGeneralModal:({partner:e,adAccountsRequested:s})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS_GENERAL",modalProps:{partner:e,adAccountsRequested:s}}}),setEditAdAccountAccessModal:({resourceId:e,principalId:s,dataToRefresh:a,assignmentType:o,rolesForAoaa:n,clientBusinessId:l})=>t({type:"SET_MODAL",payload:{modalType:"EDIT_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e,principalId:s,dataToRefresh:a,assignmentType:o,rolesForAoaa:n,clientBusinessId:l}}}),setRemoveAdAccountAccessModal:({resourceId:e,principalId:s,dataToRefresh:a,assignmentType:o,resourceType:n})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e,principalId:s,dataToRefresh:a,assignmentType:o,resourceType:n}}}),setOnboardingModal:({onComplete:e,onDismiss:s})=>t({type:"SET_MODAL",payload:{modalType:"ONBOARDING",modalProps:{onComplete:e,onDismiss:s}}}),setSwitchAdAccountModal:({id:e,name:s,owner_user_id:a,merchant_id:o})=>t({type:"SET_MODAL",payload:{modalType:"SWITCH_AD_ACCOUNT",modalProps:{id:e,name:s,owner_user_id:a,merchant_id:o}}}),setAssignProfilesModal:({selectedIds:e,selectionType:s,dataToRefresh:a,assignmentType:o,refreshData:n})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_PROFILES",modalProps:{selectedIds:e,selectionType:s,dataToRefresh:a,assignmentType:o,refreshData:n}}}),setAssignAudiencesModal:({accountTypeSelected:e,displayedAccountType:s,forPartner:a,handleModalDismiss:o,isAudienceOwner:n,audienceAssignmentType:l})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_AUDIENCES",modalProps:{accountTypeSelected:e,displayedAccountType:s,forPartner:a,handleModalDismiss:o,isAudienceOwner:n,audienceAssignmentType:l}}}),setAssignAssetsModal:({selectedIds:e,inviteId:s,dataToRefresh:a})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_ASSETS",modalProps:{selectedIds:e,inviteId:s,dataToRefresh:a}}}),setRequestProfileAccessModal:({requestId:e,requesteeId:s,profilePermissions:a})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS",modalProps:{requestId:e,requesteeId:s,profilePermissions:a}}}),setRequestCatalogAccessModal:({requestId:e})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOG_ACCESS",modalProps:{requestId:e}}}),setRequestProfileAccessGeneralModal:()=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS_GENERAL"}}),setAssetGroupsFormModal:e=>t({type:"SET_MODAL",payload:{modalType:"ASSET_GROUPS_FORM",modalProps:e}}),setShareTagModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_FORM",modalProps:e}}),setShareTagSummaryModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_SUMMARY_FORM",modalProps:e}}),setShareTagLegalModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_LEGAL_FORM",modalProps:e}}),setTagGetStartedModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_GET_STARTED_FORM",modalProps:e}}),setDeleteAssetGroupConfirmationModal:e=>t({type:"SET_MODAL",payload:{modalType:"DELETE_ASSET_GROUP_CONFIRMATION",modalProps:e}}),setAOAAPermissionAssignmentModal:({partnerBusinessInfo:e,ownerInfo:s,accountInfo:a})=>t({type:"SET_MODAL",payload:{modalType:"AOAA_PERMISSION_ASSIGNMENT",modalProps:{partnerBusinessInfo:e,ownerInfo:s,accountInfo:a}}}),setUnsavedPermissionsConfirmationModal:({partnerBusinessInfo:e,ownerInfo:s,accountInfo:a})=>t({type:"SET_MODAL",payload:{modalType:"UNSAVED_PERMISSIONS_CONFIRMATION",modalProps:{partnerBusinessInfo:e,ownerInfo:s,accountInfo:a}}}),setAOAARequestCreationSuccessModal:({partnerBusinessInfo:e,ownerInfo:s,businessIdToPermissions:a})=>t({type:"SET_MODAL",payload:{modalType:"AOAA_REQUEST_CREATION_SUCCESS",modalProps:{partnerBusinessInfo:e,ownerInfo:s,businessIdToPermissions:a}}}),setAddAssetOrUserToAssetGroup:({assetOrMemberType:e,assetGroupInfo:s})=>t({type:"SET_MODAL",payload:{modalType:"ADD_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e,assetGroupInfo:s}}}),setAddUserToAssetGroupConfirmation:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_USER_TO_ASSET_GROUP_CONFIRMATION",modalProps:e}}),setRemoveAssetOrUserFromAssetGroup:({assetOrMemberType:e,toRemove:s})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e,toRemove:s}}}),setRemoveSystemUserFromApp:({toRemove:e})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_SYSTEM_USER_FROM_APP",modalProps:{toRemove:e}}}),setRemoveAssetFromTag:({assetOrMemberType:e,toRemove:s})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_FROM_TAG",modalProps:{assetOrMemberType:e,toRemove:s}}}),setAddOrganizationManagersModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS",modalProps:{...e}}}),setAddOrganizationManagersConfirmationModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS_CONFIRMATION",modalProps:{...e}}}),setEditBusinessDetailsModal:e=>t({type:"SET_MODAL",payload:{modalType:"EDIT_BUSINESS_DETAILS",modalProps:e}}),setViewBusinessDetailsModal:e=>t({type:"SET_MODAL",payload:{modalType:"VIEW_BUSINESS_DETAILS",modalProps:e}}),setAddChildBusinessesModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES",modalProps:{...e}}}),setAddChildBusinessesConfirmationModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES_CONFIRMATION",modalProps:e}}),setSelectAdAccountToShareFromModal:()=>t({type:"SET_MODAL",payload:{modalType:"SELECT_AD_ACCOUNT_TO_SHARE_FROM"}}),setAddAdAccountModal:()=>t({type:"SET_MODAL",payload:{modalType:"ADD_AD_ACCOUNT"}}),setRequiredRMAAInformationModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_REQUIRED_RMAA_INFORMATION",modalProps:e}}),setRMAAUncompleteModal:e=>t({type:"SET_MODAL",payload:{modalType:"RMAA_UNCOMPLETE_MODAL",modalProps:e}}),setSavedRMAAInformationSuccessModal:e=>t({type:"SET_MODAL",payload:{modalType:"SAVED_RMAA_INFORMATION_SUCCESS",modalProps:e}}),setConfirmAssetAccessRequestModal:e=>t({type:"SET_MODAL",payload:{modalType:"CONFIRM_ASSET_ACCESS_REQUEST",modalProps:e}}),setCreateBusinessHierarchyModal:e=>{t({type:"SET_MODAL",payload:{modalType:"CREATE_BUSINESS_HIERARCHY",modalProps:e}})},setUploadBusinessHierarchyAvatarImageModal:e=>{t({type:"SET_MODAL",payload:{modalType:"UPLOAD_BUSINESS_HIERARCHY_AVATAR_IMAGE",modalProps:e}})},setBusinessHierarchyCreationSuccessModal:e=>{t({type:"SET_MODAL",payload:{modalType:"BUSINESS_HIERARCHY_CREATION_SUCCESS",modalProps:e}})},setAssignCatalogModal:e=>{t({type:"SET_MODAL",payload:{modalType:"ASSIGN_CATALOG",modalProps:{...e}}})},setRemoveDefaultUtmsConfirmation:e=>{t({type:"SET_MODAL",payload:{modalType:"REMOVE_DEFAULT_UTMS_CONFIRMATION",modalProps:{...e}}})},setCeeMigrationBusinessInformationModal:e=>{t({type:"SET_MODAL",payload:{modalType:"CEE_MIGRATION_BUSINESS_INFORMATION_MODAL",modalProps:e}})},setResellerInviteSentSuccessfulModal:e=>{t({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_SENT_SUCCESSFUL_MODAL",modalProps:e}})},setResellerInviteAcceptedSuccessfulModal:e=>{t({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_ACCEPTED_SUCCESSFUL_MODAL",modalProps:e}})},setAddCatalogModal:()=>{t({type:"SET_MODAL",payload:{modalType:"ADD_CATALOG"}})},setRequestCatalogsGeneralModal:e=>{t({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS_GENERAL",modalProps:{...e}}})},setRequestCatalogsModal:e=>{t({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS",modalProps:{...e}}})},setAppSecretKeyModal:e=>{t({type:"SET_MODAL",payload:{modalType:"APP_SECRET_KEY_RESET",modalProps:e}})},setAddEditDomainRestrictionsModal:e=>{t({type:"SET_MODAL",payload:{modalType:"ADD_EDIT_DOMAIN_RESTRICTIONS",modalProps:e}})},setRevokeConversionSegmentAccessModal:e=>t({type:"SET_MODAL",payload:{modalType:"REVOKE_CONVERSION_SEGMENT_ACCESS",modalProps:e}}),setRemoveConversionSegmentModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_SEGMENT",modalProps:e}}),setDeleteConversionSegmentModal:e=>t({type:"SET_MODAL",payload:{modalType:"DELETE_CONVERSION_SEGMENT",modalProps:e}}),setAssignAdAccountToConversionSegmentModal:e=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNT_TO_CONVERSION_SEGMENT",modalProps:e}}),setRemoveConversionDataModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_DATA",modalProps:e}}),setRevokeCatalogAccessModal:({data:e,refreshData:s,source:a})=>t({type:"SET_MODAL",payload:{modalType:"REVOKE_CATALOG_ACCESS",modalProps:{data:e,refreshData:s,source:a}}}),clearModal:()=>t({type:"CLEAR_MODAL"})}),[]),n=(0,a.useMemo)(()=>({businessAccess:s,...o}),[s,o]);return(0,E.jsx)(p,{value:n,children:e})}function y(e=!1){let{checkExperiment:s}=(0,i.Z)(),t=(0,o.TH)(),{anyEnabled:a}=s("web_business_access_table_reload_fix"),{anyEnabled:n}=s("web_m10n_business_hierarchy_beta"),{businessAccess:{businessId:l}}=A(),{params:{userBizId:_}}=(0,c.Z)();return n&&e&&(0,r.dK)(t)?l:a?_??"":l}function S(e=!1){let{checkExperiment:s}=(0,i.Z)(),t=(0,o.TH)(),{anyEnabled:a}=s("web_business_access_table_reload_fix"),{anyEnabled:n}=s("web_m10n_business_hierarchy_beta"),{businessAccess:{detailId:l}}=A(),{params:{detailId:_}}=(0,c.Z)();return n&&e&&(0,r.dK)(t)?l:a?_??"":l}function T(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:s}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{business:t}}=A();return s?t:null}function f(){let{businessAccess:{businessHierarchy:e}}=A();return e}function I(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:s}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{manager:t}}=A();return s?t:null}function C(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:s}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{profile:t}}=A();return s?t:null}function g(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:s}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{adAccount:t}}=A();return s?t:null}function O(){let{businessAccess:{selectedAudience:e}}=A();return e}function R(){let{businessAccess:{partnerId:e}}=A();return e}function h(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:s}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{employeeId:t}}=A();return s?t:""}function P(){let{businessAccess:{intents:e}}=A();return e}function N(){let{businessAccess:{modal:e}}=A();return e}async function b(e,s){let t={};try{let s=await (0,l.Z)({url:`ads/v4/business_access/businesses/${e}/experiments`,method:"GET"});t=(s.resource_response?.data).data}catch(e){}return s(t),t}},271875:function(e,s,t){t.d(s,{Z:()=>n,k:()=>a});let{Provider:a,get:o}=(0,t(213491).Z)("Conversations"),n=o},639008:function(e,s,t){t.d(s,{R:()=>u,U:()=>d});var a=t(667294),o=t(213491),n=t(681698);let l={modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:"",actionFrom:"",prompt:"",nextPageToRedirect:""},r=(e,s)=>{switch(e=e||l,s.type){case"SHOW_IN_SITE_FEEDBACK_MODAL":return{...e,modalOpen:!0,modalTitle:s.payload.title??"",actionFrom:s.payload.actionFrom??"",nextPageToRedirect:s.payload.nextPageToRedirect??"",prompt:s.payload.prompt??""};case"REMOVE_IN_SITE_FEEDBACK_MODAL":return{...e,modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:""};case"IN_SITE_FEEDBACK_STARTED_STARTED":return{...e,isSubmitting:!0,submissionComplete:!1,submissionFailure:""};case"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED":return{...e,isSubmitting:!1,submissionComplete:!0,submissionFailure:""};case"IN_SITE_FEEDBACK_SUBMIT_FAILED":return{...e,isSubmitting:!1,submissionComplete:!1,submissionFailure:s.payload.error};default:return e}};var i=t(785893);let{Provider:_,get:d}=(0,o.Z)("InSiteFeedback");function u({children:e}){let[s,t]=(0,a.useReducer)(r,l),o=(0,a.useCallback)((e,s,a,o)=>t({type:"SHOW_IN_SITE_FEEDBACK_MODAL",payload:{title:s,prompt:a,actionFrom:e,nextPageToRedirect:o}}),[]),d=(0,a.useCallback)(()=>t({type:"REMOVE_IN_SITE_FEEDBACK_MODAL",payload:{}}),[]),u=(0,a.useCallback)(()=>t({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}}),[]),c=(0,a.useCallback)(()=>t({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}}),[]),E=(0,a.useCallback)(e=>t({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e}}),[]),p=(0,a.useCallback)(e=>{if(t({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}}),!e.verbatim_text||0===e.verbatim_text.trim().length)return void t({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}});(0,n.Z)({url:"/v3/analytics/feedback/",method:"POST",data:{feedback_data:JSON.stringify(e)}}).then(()=>{t({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}})}).catch(e=>{t({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e.message}})})},[]),A=(0,a.useMemo)(()=>({inSiteFeedback:s,showInSiteFeedbackModal:o,removeInSiteFeedbackModal:d,submitInSiteFeedbackStarted:u,inSiteFeedbackSubmitSucceeded:c,inSiteFeedbackSubmitFailed:E,submitInSiteFeedback:p}),[s,o,d,u,c,E,p]);return(0,i.jsx)(_,{value:A,children:e})}},362786:function(e,s,t){t.d(s,{P:()=>c,u:()=>u});var a=t(667294),o=t(213491);let n={fullName:"",email:"",phoneNumber:"",zipCode:"",formSubmissions:{}};function l(e,s){switch(e=e||n,s.type){case"AUTOFILL_LEADGEN_USER_INFO":return{...e,fullName:s.payload.fullName,email:s.payload.email};case"SET_LEADGEN_USER_INFO":return{...e,formSubmissions:s.payload.formSubmissions};default:return e}}var r=t(774838),i=t(661376),_=t(785893);let{Provider:d,get:u}=(0,o.Z)("LeadGen");function c({children:e}){let{isLoaded:s,data:t}=(()=>{let{isAuthenticated:e}=(0,r.B)();return(0,i.Z)(e?{name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:["user.full_name","user.email","user.is_name_eligible_for_lead_form_autofill","user.is_email_eligible_for_lead_form_autofill"]}}}:null)})(),[o,u]=(0,a.useReducer)(l,n),c=(0,a.useCallback)(e=>u({type:"SET_LEADGEN_USER_INFO",payload:e}),[]);(0,a.useEffect)(()=>{s&&u({type:"AUTOFILL_LEADGEN_USER_INFO",payload:{...n,fullName:t?.is_name_eligible_for_lead_form_autofill?t.full_name:"",email:t?.is_email_eligible_for_lead_form_autofill?t.email:""}})},[s,t]);let E=(0,a.useMemo)(()=>({updateLeadGenInfo:c,leadGen:o}),[c,o]);return(0,_.jsx)(d,{value:E,children:e})}},187580:function(e,s,t){t.d(s,{Z:()=>w});var a=t(686659),o=t(667294),n=t(548777),l=t(800287),r=t(537391),i=t(310008),_=t(552841),d=t(501010),u=t(281213),c=t(720414),E=t(662529),p=t(89446),A=t(27399),m=t(236269),y=t(57887),S=t(730056);let T=(e,s)=>e.data[s]&&e.data[s].messages||[];function f(e,s){let t=new Map;for(let a of e){if(!a)continue;let e=s(a);if(t.has(e)){let s=(0,S.Z)(t.get(e),a);t.set(e,s)}else t.set(e,a)}return[...t.values()]}function I(e){return[...e].sort((e,s)=>new Date(e.created_ms||e.created_at).getTime()-new Date(s.created_ms||s.created_at).getTime())}function C(e,s,t){return I(f(T(e,s).concat(t),e=>e.id))}let g={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function O(e,s){if(e=e||g,"CONVERSATION_OPEN"===s.type)return{...e,open:s.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[s.payload.id]:{contactRequestId:s.payload.contactRequestId||"",isPreview:s.payload.isPreview}}};if("CONVERSATION_CLOSE"===s.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[s.payload.id]:{contactRequestId:s.payload.contactRequestId||"",isPreview:!!s.payload.contactRequestId,isDeclined:s.payload.isDeclined}}};if("CONVERSATION_CREATE"===s.type){let{id:t}=s.payload;return{...e,data:{...e.data,[t]:{...e.data[t]||{},...s.payload}}}}if("CONVERSATION_DELETE"===s.type){let t={...e,data:{...e.data}},{id:a}=s.payload;return delete t.data[a],t}if("FETCH_COMPLETE"===s.type){let{options:t,resource:a,response:o}=s.payload,n=o.resource_response.data;if("ConversationMessagesResource"===a){let s=n||[],a=t?.conversation_id||"",o=C(e,a,s),l=o[o.length-1];return{...e,data:{...e.data,[a]:{...e.data[a],id:a,messages:o,unread:0,last_message:l}}}}if("ConversationsResource"===a){let s=n||[],t={...e,data:{...e.data}};return s.forEach(e=>{let{id:s,created_at:a,name:o,board:n,emails:l,unread:r,users:i,last_message:_}=e,d=C(t,s,[_]);t.data[s]={...t.data[s],id:s,created_at:a,name:o,board:n,emails:l||[],unread:r||0,users:i||[],last_message:_,messages:d}}),t}if("ConversationResource"===a||"ApiResource"===a&&t.url===`/v3/conversations/${t.data?.conversation_id}/`){let s=n||{},{id:t}=s,a={...e,data:{...e.data}};return t&&(a.data[t]={...a.data[t],...s}),a}if("NewsHubBadgeResource"===a&&n){let s=n.conversations_unseen_count||0;return{...e,unread:s}}}else if("MESSAGE_SEND_PENDING"===s.type){let{id:t,message:a}=s.payload;if(e.data[t])return{...e,data:{...e.data,[t]:{...e.data[t],id:t,messages:[...e.data[t].messages,a]}}}}else if("MESSAGE_SEND_PENDING_SUCCESS"===s.type){let{id:t,tempMessage:a,newMessage:o}=s.payload;if(e.data[t]&&T(e,t).find(e=>e.id===a.id&&e.created_ms===a.created_ms)){let s=I(f(T(e,t).filter(e=>e.id!==a.id).concat([o]),e=>e.id));return{...e,data:{...e.data,[t]:{...e.data[t],last_message:o,messages:s}}}}}else if("MESSAGE_SEND_PENDING_FAILURE"===s.type){let{id:t,tempMessageId:a}=s.payload;if(e.data[t]){let s=T(e,t).filter(e=>e.id!==a);return{...e,data:{...e.data,[t]:{...e.data[t],messages:s}}}}}else if("MESSAGE_DELETE"===s.type){let{id:t,messageId:a}=s.payload;if(e.data[t]){let s=T(e,t).map(e=>e.id===a?{...e,deleted_by:2}:e);return{...e,data:{...e.data,[t]:{...e.data[t],messages:s}}}}}else if("OPEN_NEW_MESSAGE"===s.type){let{objectAttachment:t}=s.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:t}}else if("CLOSE_DROPDOWN"===s.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};else if("OPEN_DROPDOWN"===s.type)return{...e,showConversationsDropdown:!0};else if("UPDATE_NEWSHUB_COUNT"===s.type)return{...e,newsHubCount:s.payload};else if("UPDATE_UNREAD_COUNT"===s.type)return{...e,conversationsUnseenCount:s.payload};else if("CLEAR_MESSAGE_BADGE"===s.type){let{id:t}=s.payload;return{...e,data:{...e.data,[t]:{...e.data[t],unread:0}}}}else if("CONVERSATION_SAVE_POSITION"===s.type){let{id:t,position:a}=s.payload;return{...e,data:{...e.data,[t]:{...e.data[t],position:a}}}}else if("CONVERSATION_RESET_POSITION"===s.type){let{id:t}=s.payload;return{...e,data:{...e.data,[t]:{...e.data[t],position:null}}}}else if("SET_OBJECT_ATTACHMENT"===s.type){let{objectAttachment:t}=s.payload;return{...e,objectAttachment:t}}else if("REMOVE_OBJECT_ATTACHMENT"===s.type)return{...e,objectAttachment:null};return e}var R=t(271875),h=t(785893);function P({children:e}){(0,o.useEffect)(()=>{(0,a.Z)("ConversationsContext","/app/www/ConversationsContext/ConversationsContext.tsx")},[]);let[s,t]=(0,o.useReducer)(O,g),n=(0,o.useCallback)(e=>t({type:"FETCH_COMPLETE",payload:e}),[]);(0,y.Z8)("ConversationMessagesResource",n),(0,y.my)("ConversationMessagesResource",n),(0,y.Z8)("ConversationsResource",n),(0,y.Z8)("ConversationResource",n),(0,y.Z8)("NewsHubBadgeResource",n),(0,y.Z8)("ApiResource",n);let l=(0,o.useCallback)((e,s=!1,a="")=>t({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:s,contactRequestId:a}}),[]),r=(0,o.useCallback)((e,s="",a=!1)=>t({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:s,isDeclined:a}}),[]),i=(0,o.useCallback)(e=>t({type:"CONVERSATION_CREATE",payload:e}),[]),_=(0,o.useCallback)(e=>t({type:"CONVERSATION_DELETE",payload:{id:e}}),[]),d=(0,o.useCallback)((e,s)=>t({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:s}}),[]),u=(0,o.useCallback)(e=>t({type:"CONVERSATION_RESET_POSITION",payload:{id:e}}),[]),c=(0,o.useCallback)((e,s,a)=>{A.Z.create("ConversationsResource",{user_ids:e,emails:s,text:""}).callCreate().then(e=>{t({type:"CONVERSATION_OPEN",payload:{id:(e&&e.resource_response.data).id}})}).catch(e=>{a((0,m.Z)(e,"message_detail")||(0,m.Z)(e,"message")||"")})},[]),E=(0,o.useCallback)(()=>{t({type:"CLOSE_DROPDOWN"})},[]),p=(0,o.useCallback)(()=>{t({type:"OPEN_DROPDOWN"})},[]),S=(0,o.useCallback)(e=>{t({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),T=(0,o.useCallback)((e,s)=>t({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:s}}),[]),f=(0,o.useCallback)((e,s,a)=>t({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:s,newMessage:a}}),[]),I=(0,o.useCallback)((e,s)=>t({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:s}}),[]),C=(0,o.useCallback)((e,s)=>t({type:"MESSAGE_DELETE",payload:{id:e,messageId:s}}),[]),P=(0,o.useCallback)(e=>t({type:"UPDATE_NEWSHUB_COUNT",payload:e}),[]),N=(0,o.useCallback)(e=>t({type:"UPDATE_UNREAD_COUNT",payload:e}),[]),b=(0,o.useCallback)(e=>t({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}}),[]),M=(0,o.useCallback)(e=>t({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}}),[]),D=(0,o.useCallback)(()=>t({type:"REMOVE_OBJECT_ATTACHMENT"}),[]),L=(0,o.useMemo)(()=>({clearMessageBadge:b,conversationOpen:l,conversationClose:r,conversationCreate:i,conversationDelete:_,conversationGet:c,saveConversationPosition:d,resetConversationPosition:u,dropdownClose:E,dropdownOpen:p,newMessageOpen:S,pendingMessageSend:T,pendingMessageSuccess:f,pendingMessageFailure:I,deleteMessage:C,updateNewsHubCount:P,updateUnreadCount:N,conversations:s,setObjectAttachment:M,removeObjectAttachment:D}),[b,l,r,i,_,c,d,u,E,p,S,T,f,I,C,P,N,s,M,D]);return(0,h.jsx)(R.k,{value:L,children:e})}var N=t(827371);function b({children:e}){(0,o.useEffect)(()=>{(0,a.Z)("EducationProvider","/app/www/Education/EducationProvider.tsx")},[]);let[s,t]=(0,o.useState)(null),n=(0,o.useMemo)(()=>[s,t],[s]);return(0,h.jsx)(N.Z,{value:n,children:e})}var M=t(639008),D=t(362786),L=t(20717),U=t(490515),B=t(329577),v=t(485633),z=t(272873),G=t(985543);function w({children:e}){(0,o.useEffect)(()=>{(0,a.Z)("AuthDesktopProviders","/app/www/PageWrapper/AuthDesktopProviders.tsx")},[]);let s=(0,d.Z)().checkExperiment("aid_exp_move_custom_shortcuts_context_provider").anyEnabled?o.Fragment:i.r;return(0,h.jsx)(P,{children:(0,h.jsx)(u.W,{children:(0,h.jsx)(v.l,{children:(0,h.jsx)(b,{children:(0,h.jsx)(G.X,{children:(0,h.jsx)(D.P,{children:(0,h.jsx)(z.j,{children:(0,h.jsx)(M.R,{children:(0,h.jsx)(_.CB,{children:(0,h.jsx)(p.sO,{children:(0,h.jsx)(l.FE,{children:(0,h.jsx)(r.H,{children:(0,h.jsx)(s,{children:(0,h.jsx)(B.yh,{children:(0,h.jsx)(n.r,{children:(0,h.jsx)(U.C,{children:(0,h.jsx)(E.a,{children:(0,h.jsx)(L.xM,{children:(0,h.jsx)(c.i,{children:e})})})})})})})})})})})})})})})})})})})}},485633:function(e,s,t){t.d(s,{l:()=>d,o:()=>_});var a=t(667294),o=t(213491),n=t(57887);function l(e,s){if(e=e||{},"SUGGESTIONS_FETCH_COMPLETE"===s.type){let{payload:t}=s;if("ShareSuggestionsResource"===t.resource){let a=s.payload.response.resource_response.data||[],{term:o=""}=t.options??{};return{...e,[o]:a}}if("ShareSuggestionsTypeaheadResource"===t.resource){let a=(s.payload.response.resource_response.data||{}).items||[],{term:o=""}=t.options??{};return{...e,[o]:a}}}return e}var r=t(785893);let{Provider:i,get:_}=(0,o.Z)("ShareSuggestions");function d({children:e}){let[s,t]=(0,a.useReducer)(l,{}),o=e=>{t({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,n.Z8)("ShareSuggestionsResource",o),(0,n.Z8)("ShareSuggestionsTypeaheadResource",o);let _=(0,a.useMemo)(()=>({shareSuggestions:s}),[s]);return(0,r.jsx)(i,{value:_,children:e})}},272873:function(e,s,t){t.d(s,{l:()=>_,j:()=>d});var a=t(667294),o=t(213491);let n={currentPinDraftId:null,mostRecentTaggedObjectId:null,selectedStlItemId:null,stlCallout:{showCallout:!1},stlTaggedCoords:null,stlHoveredTaggedObjectId:null},l=(e,s)=>{switch(e=e||n,s.type){case"STL_SELECT":return{...e,selectedStlItemId:s.payload.selectedStlItemId};case"STL_SHEET":return{...e,currentPinDraftId:s.payload.currentPinDraftId};case"STL_TAGGED_PIN":return{...e,stlTaggedCoords:s.payload.stlTaggedCoords};case"STL_ERROR_STATE":return{...e,stlCallout:{showCallout:s.payload.stlCallout.showCallout,type:s.payload.stlCallout.type}};case"STL_MOST_RECENT_TAGGED_OBJECT_ID":return{...e,mostRecentTaggedObjectId:s.payload.mostRecentTaggedObjectId};case"SET_STL_HOVERED_TAGGED_OBJECT_ID":return{...e,stlHoveredTaggedObjectId:s.payload.stlHoveredTaggedObjectId};default:return e}};var r=t(785893);let{Provider:i,get:_}=(0,o.Z)("ShopTheLook");function d({children:e}){let[s,t]=(0,a.useReducer)(l,n),o=(0,a.useMemo)(()=>({shopTheLook:s,setStlSelection:e=>{t({type:"STL_SELECT",payload:{selectedStlItemId:e}})},setCurrentPinDraftId:e=>{t({type:"STL_SHEET",payload:{currentPinDraftId:e}})},setStlTaggedCoord:e=>{t({type:"STL_TAGGED_PIN",payload:{stlTaggedCoords:e}})},setStlCallout:({showCallout:e,type:s})=>{t({type:"STL_ERROR_STATE",payload:{stlCallout:{showCallout:e,type:s}}})},setMostRecentTaggedObjectId:e=>{t({type:"STL_MOST_RECENT_TAGGED_OBJECT_ID",payload:{mostRecentTaggedObjectId:e}})},setStlHoveredTaggedObjectId:e=>{t({type:"SET_STL_HOVERED_TAGGED_OBJECT_ID",payload:{stlHoveredTaggedObjectId:e}})}}),[s]);return(0,r.jsx)(i,{value:o,children:e})}},229127:function(e,s,t){t.d(s,{N4:()=>n,Wh:()=>a,hr:()=>o});let a=e=>e.bt("Connectez-vous pour continuer", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),o=e=>e.bt("Vous y êtes presque ! Connectez-vous pour accéder à l’ensemble de Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),n=({i18n:e,toFollow:s})=>s?e.bt("Connectez-vous pour vous abonner", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Connectez-vous pour vous désabonner", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true)},985543:function(e,s,t){t.d(s,{X:()=>d,Z:()=>_});var a=t(667294),o=t(213491),n=t(566431);function l(e=null,s){switch(s.type){case"REPORT_CONTENT_SHOW":return{id:s.payload.id,auxData:s.payload.auxData,isProduct:s.payload.isProduct,isPromoted:s.payload.isPromoted,parentId:s.payload.parentId,videoDuration:s.payload.videoDuration,viewParameter:s.payload.viewParameter,viewType:s.payload.viewType,type:s.payload.type,isThirdPartyAd:s.payload.isThirdPartyAd,nodeId:s.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var r=t(785893);let{Provider:i,get:_}=(0,o.Z)("ReportData");function d({children:e}){let[s,t]=(0,a.useReducer)(l,null),o=(0,a.useCallback)(()=>t({type:"REPORT_CONTENT_DISMISS"}),[]),_=(0,a.useCallback)((e,s,a)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:s,videoDuration:null,viewParameter:null,viewType:null,type:a,nodeId:null}}),[]),d=(0,a.useCallback)((e,s,a)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:s,viewType:a,type:"conversation",nodeId:null}}),[]),u=(0,a.useCallback)(({id:e,viewParameter:s,viewType:a,nodeId:o})=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:s,viewType:a,type:"pin",nodeId:o}}),[]),c=(0,a.useCallback)(({pinId:e,isDownstreamPromotion:s,hasPromoter:a,firstVideoDuration:o,isProduct:l,viewParameter:r,viewType:i,isThirdPartyAd:_,nodeId:d,auxData:u})=>{t({type:"REPORT_CONTENT_SHOW",payload:{id:e,auxData:u,isProduct:l,isPromoted:(0,n.jL)(s,a),videoDuration:o,viewParameter:r,viewType:i,type:"pin",isThirdPartyAd:_,nodeId:d}})},[]),E=(0,a.useMemo)(()=>({reportData:s,dismiss:o,reportComment:_,reportConversation:d,reportImage:u,reportPin:c}),[s,o,_,d,u,c]);return(0,r.jsx)(i,{value:E,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/87803.fr-6605df86eb264e95.mjs.map